<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="print_oa_qingjia">
        <t t-call="report.html_container">
            <t t-foreach="docs" t-as="o">
                <div class="page">
                    <style>
                        table {
                        border: solid 1px #000;
                        width: 100%;
                        }
                        tr{
                        height:40px;
                        }
                        th {
                        margin-top:5px;
                        padding-left: 10px;
                        border: solid 1px #000;
                        font-size:20px;
                        }

                        td {
                        margin-top:5px;
                        padding-left: 10px;
                        border: solid 1px #000;
                        font-size:20px;
                        align="center";
                        valign="middle";
                        }
                        h2{
                        font-size:50px;
                        }
                </style>
                    <br/>
                    <h2 align="center">请假申请</h2>
                    <table>
                       <tr>
                           <th width="15%">姓名</th><td width="15%"><span t-field="o.emp_id"/> </td>
                           <th width="15%">部门</th><td width="15%"><span t-field="o.department_id"/> </td>
                           <th width="15%">申请日期</th><td width="15%"><span t-field="o.apply_date"/> </td>
                       </tr>
                       <tr>
                           <th>请假开始日期</th><td><span t-field="o.start_time"/> </td>
                           <th>请假结束日期</th><td><span t-field="o.end_time"/> </td>
                           <th>请假时间合计</th><td><span t-field="o.total_time"/> </td>
                       </tr>
                       <tr>
                           <th>请假事由</th><td colspan="5"><span t-field="o.reason"/> </td>
                       </tr>
                       <tr>
                           <td  colspan="6"  style="padding:0;">
                                <table width="100%" >
                                    <tr>
                                        <th width="15%">操作人</th>
                                        <th width="15%">审批时间</th>
                                        <th width="15%">工作流阶段</th>
                                        <th width="40%">审批意见</th>
                                        <th width="15%">审批结果</th>
                                    </tr>
                                    <t t-set="ops" t-value="o.get_spyj()"/>
                                    <t t-foreach="ops" t-as="op">
                                        <tr>
                                            <td><t t-esc="op['czr']"/></td>
                                            <td><t t-esc="op['spsj']"/></td>
                                            <td><t t-esc="op['gzljd']"/></td>
                                            <td><t t-esc="op['spyj']"/></td>
                                            <td><t t-esc="op['spjg']"/></td>
                                        </tr>
                                    </t>
                                    <tr>
                                        <td> </td>
                                        <td> </td>
                                        <td> </td>
                                        <td> </td>
                                    </tr>
                                </table>
                            </td>
                       </tr>
                    </table>
                    <br/>
                </div>

            </t>
        </t>
    </template>

    <report
            id="report_oa_qingjia_html"
            string="打印请假单_HTML"
            model="oa.qingjia"
            report_type="qweb-html"
            file="oa_workflow.print_oa_qingjia"
            name="oa_workflow.print_oa_qingjia"
    />
    <report
            id="report_oa_qingjia_pdf"
            string="打印请假单_PDF"
            model="oa.qingjia"
            report_type="qweb-pdf"
            file="oa_workflow.print_oa_qingjia"
            name="oa_workflow.print_oa_qingjia"
    />

</odoo>